%a.pull-right
  %h1= t('articles')
%table.table.table-striped.table-hover
  %tr
    %th= Article.human_attribute_name(:id)
    %th= Article.human_attribute_name(:title)
    %th= Article.human_attribute_name(:author)
    %th= Article.human_attribute_name(:state)
    %th= Article.human_attribute_name(:updated_at)
    %th{:colspan => "2"}= t('.control')
  - @articles.each do |article|
    %tr
      %td= article.id
      %td= link_to article.title, admin_article_path(article.id), target: :_blank, class: 'btn btn-outline-secondary btn-sm'
      %td= article.author.name
      %td= article.human_state_name
      %td= article.updated_at
      %td= link_to t('.edit'), edit_admin_article_path(article.id), class: 'btn btn-info btn-sm'
      -if article.can_unpublish?
        %td= link_to t('.unpublish'), admin_article_unpublish_path(article.id), method: :put, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-sm'
      -if article.can_publish?
        %td= link_to t('.publish'), admin_article_publish_path(article.id), method: :put, data: { confirm: 'Are you sure?' }, class: 'btn btn-success btn-sm'
%td= link_to t('.add'), new_admin_article_path, class: 'btn btn-outline-secondary'